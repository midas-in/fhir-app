"use strict";(self.webpackChunkfhircore=self.webpackChunkfhircore||[]).push([[1531],{7213:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>d});var t=i(5893),r=i(1151);const a={},s="PlanDefinitions",o={id:"engineering/writing-fhir/plan-definiton",title:"PlanDefinitions",description:"A PlanDefinition is a pre-defined group of actions to be taken in particular circumstances, often including conditional elements, options, and other decision points. The resource is flexible enough to be used to represent a variety of workflows, as well as clinical decision support and quality improvement assets, including order sets, protocols, and decision support rules.",source:"@site/docs/engineering/writing-fhir/plan-definiton.mdx",sourceDirName:"engineering/writing-fhir",slug:"/engineering/writing-fhir/plan-definiton",permalink:"/engineering/writing-fhir/plan-definiton",draft:!1,unlisted:!1,editUrl:"https://github.com/opensrp/fhircore/tree/main/docs/engineering/writing-fhir/plan-definiton.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Form Authoring (Things to consider when writing forms)",permalink:"/engineering/writing-fhir/form-authoring"},next:{title:"Sample FHIR resources",permalink:"/engineering/writing-fhir/sample-fhir-resources/"}},c={},d=[{value:"PlanDefinition notable properties:",id:"plandefinition-notable-properties",level:2},{value:"PlanDefinition <code>action</code> notable properties:",id:"plandefinition-action-notable-properties",level:2},{value:"Example StrcutureMap to Extract Tasks",id:"example-strcuturemap-to-extract-tasks",level:2},{value:"PlanDefinition <code>definition</code> notable properties:",id:"plandefinition-definition-notable-properties",level:2},{value:"Example ANC PlanDefinition that generates all Tasks at once",id:"example-anc-plandefinition-that-generates-all-tasks-at-once",level:2},{value:"ANC PlanDefinition generating Tasks on demand",id:"anc-plandefinition-generating-tasks-on-demand",level:3},{value:"Child Immunization schedule PlanDefinition",id:"child-immunization-schedule-plandefinition",level:3}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"plandefinitions",children:"PlanDefinitions"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.a,{href:"https://hl7.org/fhir/R4/plandefinition.html",children:"PlanDefinition"})," is a pre-defined group of actions to be taken in particular circumstances, often including conditional elements, options, and other decision points. The resource is flexible enough to be used to represent a variety of workflows, as well as clinical decision support and quality improvement assets, including order sets, protocols, and decision support rules."]}),"\n",(0,t.jsx)(e.p,{children:"It can be used to define an end to end activities that will be used to generate both a CarePlan and related Tasks for a Patient or Group. The CarePlan can include one or more activities to carry on across the lifecycle of Patient care. The PlanDefinition is usually associated to address a specific workflow e.g. ANC, PNC, Child Vaccination, Household Visits, etc."}),"\n",(0,t.jsxs)(e.p,{children:["The pre-defined set of actions, are often conditional and based on certain decision points (triggers and conditions). Each action defines an activity to be performed often in terms of an ",(0,t.jsx)(e.a,{href:"http://hl7.org/fhir/activitydefinition.html",children:"ActivityDefinition"})," (via definition and/or transform)."]}),"\n",(0,t.jsxs)(e.p,{children:["For defining whether the specific action should be taken, the ",(0,t.jsx)(e.code,{children:"condition"})," element can be used to provide an expression that evaluates to true or false to indicate the applicability of the action to the specific context."]}),"\n",(0,t.jsxs)(e.p,{children:["Applying a PlanDefinition for a specific context/subject yields a ",(0,t.jsx)(e.a,{href:"http://hl7.org/fhir/careplan.html#CarePlan",children:"CarePlan"})," and ",(0,t.jsx)(e.a,{href:"http://hl7.org/fhir/task.html",children:"Task"})," resources representing the actions that should be performed for given beneficiary. This is done via the ",(0,t.jsx)(e.code,{children:"$apply"})," or ",(0,t.jsx)(e.code,{children:"$lite"})," operation."]}),"\n",(0,t.jsxs)(e.p,{children:["Inside the PlanDefinition, the ",(0,t.jsx)(e.code,{children:"definition"})," element specifies an ActivityDefinition which is used to construct a specific resource (Task and CarePlan only for now). Along with definition, a PlanDefinition may also provide a ",(0,t.jsx)(e.code,{children:"transform"})," element for the activity a StructureMap to do the transformation and creation of elements for CarePlan. Another element ",(0,t.jsx)(e.code,{children:"dynamicValue"})," list can also be provided in ActivityDefinition to provide dynamic values for CarePlan using ",(0,t.jsx)(e.a,{href:"https://hl7.org/fhir/fhirpath.html",children:"FHIRPath"}),"."]}),"\n",(0,t.jsx)(e.p,{children:"Below is a detailed description of notable properties of PlanDefinition and its usage in fhircore"}),"\n",(0,t.jsx)(e.h2,{id:"plandefinition-notable-properties",children:"PlanDefinition notable properties:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"resourceType"}),": PlanDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"id"}),": unique identifier of resource, ideally UUID (Universal Unique Identifier),"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"contained"}),": [ ... ] : An array of resources to embed details (ActivityDefinition) about given plan"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"name"}),": Human readable name of the PlanDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"title"}),": Title or summary of what PlanDefinition is about. This is output to generated CarePlan as title"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"status"}),": ",(0,t.jsx)(e.code,{children:"active"}),","]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"description"}),": Detailed summary of what plan does. This is output to generated CarePlan as description"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"action"}),": [ ... ] : An array action elements to define ",(0,t.jsx)(e.code,{children:"condition"}),", ",(0,t.jsx)(e.code,{children:"definition"})," and ",(0,t.jsx)(e.code,{children:"transform"})," to be applied while generating CarePlan."]}),"\n"]}),"\n",(0,t.jsxs)(e.h2,{id:"plandefinition-action-notable-properties",children:["PlanDefinition ",(0,t.jsx)(e.code,{children:"action"})," notable properties:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"priority"}),": high-priority | medium-priority | low-priority"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"condition"}),": [ ]","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"kind"}),": only ",(0,t.jsx)(e.code,{children:"applicability"})," is handled for now. This provides details on what aspect of CarePlan should be assessed."]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"expression"}),": The expression which runs on the context i.e. the ",(0,t.jsx)(e.a,{href:"https://hl7.org/fhir/questionnaireresponse.html",children:"QuestionnaireResponse"}),", ",(0,t.jsx)(e.a,{href:"https://hl7.org/fhir/patient.html",children:"Patient"}),", and other generated resources by QuestionnaireResponse extraction"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"language"}),": text/FHIRPath can be handled only for now"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"expression"}),": The FHIRPath expression that runs on context resources.","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"$this"})," : Patient or Group on which PlanDefinition is applied"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"%resource.entry"})," : The Bundle which was generated as a result of extraction of QuestionnaireResponse. QuestionnaireResponse which resulted into this CarePlan generation is also available into this Bundle"]}),"\n",(0,t.jsxs)(e.li,{children:["example: ",(0,t.jsx)(e.code,{children:"$this"})," is Patient and ",(0,t.jsx)(e.code,{children:"%resource.entry.first().resource"})," is Patient and ",(0,t.jsx)(e.code,{children:"(today() - 60 'months') <= $this.birthDate"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"definitionCanonical"}),": The ActivityDefinition ",(0,t.jsx)(e.code,{children:"id"})," in ",(0,t.jsx)(e.code,{children:"contained"})," resources into this PlanDefinition prefixed by ",(0,t.jsx)(e.code,{children:"#"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"example"})," : #careplan-init-activity"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"transform"}),": The StructureMap to run on this action definition to do the resource generation. If this is not provided only ",(0,t.jsx)(e.code,{children:"dynamicValue"})," component of ActivityDefinition is used to modify the resources","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["The values available in to be used StructureMap are","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"definition"}),": Current ActivityDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"depends-on"}),": The context resource QuestionnaireResponse which resulted this PlanDefintion"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"subject"})," : The Patient or Group for which this Plan is running"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"period"}),": The evaluated ",(0,t.jsx)(e.code,{children:"executionPeriod"})," for ActivityDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"version"}),": The index of Task evaluated by ActivityDefinition ",(0,t.jsx)(e.code,{children:"timing"})," or 1 by default"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"example-strcuturemap-to-extract-tasks",children:"Example StrcutureMap to Extract Tasks"}),"\n",(0,t.jsx)(e.p,{children:"Below is an example of a StructureMap to extract Refferal Tasks"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-map",children:"map \"http://hl7.org/fhir/StructureMap/ab62f8e8-e6d8-4ffb-b460-64b23e89b370\" = 'eCBIS Pregnancy Referral'\n\nuses \"http://hl7.org/fhir/StructureDefinition/Parameters\" as source\nuses \"http://hl7.org/fhir/StructureDefinition/CarePlan\" as target\n\ngroup pregnancyReferral(source src : Parameters, target tgt: CarePlan) {\nsrc -> evaluate(src, $this.parameter.where(name='subject').resource) as subject,\n    evaluate(src, $this.parameter.where(name='definition').resource) as definition,\n    evaluate(subject, today()) as dueDate\n    then ExtractTasks(dueDate, subject, tgt) \"r_careplan\";\n}\n\ngroup ExtractTasks(\nsource dueDate: DateType,\nsource subject : Patient,\ntarget careplan: CarePlan){\n\nsubject -> dueDate as start,\n        evaluate(subject, today() + '1 \\'months\\''.toQuantity()) as end,\n        create('Period') as period,\n        careplan.contained = create('Task') as task then {\n\nsubject then ExtractPeriod(start, end, period) \"r_task_period_extr\";\n\nsubject -> task.id = uuid(),\n        task.identifier = create('Identifier') as iden, iden.value = uuid(), iden.use = 'official',\n        task.status = 'ready',\n        task.intent = 'plan',\n        task.executionPeriod = period,\n        task.priority = 'routine',\n        task.description = 'Pregnancy Referral Task',\n        task.for = create('Reference') as ref, ref.reference = evaluate(subject, $this.id.replaceMatches('/_history/.*', '')),\n        // should refer to plandefinition since referral has no careplan\n        task.basedOn = create('Reference') as ref, ref.reference = evaluate(careplan, $this.instantiatesCanonical.first()),\n        task.authoredOn = evaluate(subject, now()),\n        task.requester = evaluate(subject, $this.generalPractitioner.first()),\n        task.owner = evaluate(subject, $this.generalPractitioner.first()) \"r_task_data\";\n\n// pregnancy referral referral form\nsubject -> task.reasonReference = create('Reference') as ref, ref.reference = 'Questionnaire/c309abfa-7536-4c60-baea-cf631201f79e' \"r_task_reason_ref\";\n} \"r_cp_acti_outcome\";\n}\n\ngroup ExtractPeriod(source start: DateType, source end: DateType, target period: Period) {\nstart -> period.start = create('dateTime') as dt,\n      dt.value = evaluate(start, $this.value.substring(0,10) + 'T00:00:00.00Z') \"r_per_start\";\n\nend -> period.end = create('dateTime') as dt,\n    dt.value = evaluate(end, $this.value.substring(0,10) + 'T00:00:00.00Z') \"r_per_end\";\n}\n"})}),"\n",(0,t.jsxs)(e.h2,{id:"plandefinition-definition-notable-properties",children:["PlanDefinition ",(0,t.jsx)(e.code,{children:"definition"})," notable properties:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"resourceType"}),": ActivityDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"id"}),": the unique id of resource into contained resource of this PlanDefinition."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"title"}),": title or summary of this definition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"status"}),": active"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"description"}),": Detailed summary of what activity does"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"kind"}),": CarePlan|Task supported for now"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"dynamicValue"}),": [ ] an array of FHIRPath expression which defines the value for each property of resource of given kind","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"path"}),": the name of property to set the value","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["example: ",(0,t.jsx)(e.code,{children:"title"})," | ",(0,t.jsx)(e.code,{children:"status"})," | ",(0,t.jsx)(e.code,{children:"subject.reference"})," | ",(0,t.jsx)(e.code,{children:"period.start"})," etc. for CarePlan"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"expression"}),": The expression for retrieveing the value from context resources i.e. the QuestionnaireResponse, Patient, and other generated resources by QuestionnaireResponse extraction","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"language"}),": text/FHIRPath supported for now"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"expression"}),": The FHIRPath expression that runs on context resources.","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"%rootResource"})," : Current PlanDefinition"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"$this"})," : Patient or Group on which Plan is running"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"%resource.entry"})," : The Bundle which was generated as a result of extraction of QuestionnaireResponse. QuestionnaireResponse which resulted into this CarePlan generation is also available into this Bundle"]}),"\n",(0,t.jsxs)(e.li,{children:["example:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"%rootResource.id.replaceMatches('/_history/.*', '')"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"$this.generalPractitioner.first()"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.code,{children:"%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where(linkId='lmp').answer.value"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"code"})," : CodeableConcept for standard code for this activity."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"productCodeableConcept"}),": The CodeableConcept for product for which current activity is running. For Medication or Immunization this is helpful to run ActivityDefinition for specific type of Drug"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"dosage"}),": The dosages applicable for this ",(0,t.jsx)(e.code,{children:"product"}),". This defines the ",(0,t.jsx)(e.code,{children:"timing"})," for each dose of given product.","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"timing"}),": The timing for given dose"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"sequence"})," : The sequence of dose"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"timing"}),": If dosage is define this can not be use. This is an alternate way of defining timing for Task. The timing can define a complete schedule","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"repeat"}),": The repeat schedule","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"count"}),": Number of Tasks to be generated. If count is defined the ",(0,t.jsx)(e.code,{children:"executionPeriod"})," timing reference is Careplan.period.start. Otherwise if missing the reference of this timing is today\nduration: The duration of Task to be active for with reference to ",(0,t.jsx)(e.code,{children:"executionPeriod.start"}),"\ndurationUnit: Duration time unit. mo | d | wk | y etc\nperiod: The ",(0,t.jsx)(e.code,{children:"executionPeriod.start"})," reference based of current task index. If count is defined the ",(0,t.jsx)(e.code,{children:"executionPeriod"})," timing reference is Careplan.period.start. Otherwise if missing the reference of this timing is today\nperiodUnit: Period time unit. mo | d | wk | y etc:"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"example-anc-plandefinition-that-generates-all-tasks-at-once",children:"Example ANC PlanDefinition that generates all Tasks at once"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'  {\n    "resourceType": "PlanDefinition",\n    "id": "132157",\n    "meta": {\n      "versionId": "1",\n      "lastUpdated": "2022-06-20T22:30:39.217+00:00"\n    },\n    "contained": [\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-init-activity",\n        "title": "ANC Register Handler Activity",\n        "status": "active",\n        "description": "This action will assess careplan on registration to init careplan",\n        "kind": "CarePlan",\n        "dynamicValue": [\n          {\n            "path": "title",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.title"\n            }\n          },\n          {\n            "path": "description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.description"\n            }\n          },\n          {\n            "path": "instantiatesCanonical",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.id.replaceMatches(\'/_history/.*\', \'\')"\n            }\n          },\n          {\n            "path": "status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'active\'"\n            }\n          },\n          {\n            "path": "intent",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'plan\'"\n            }\n          },\n          {\n            "path": "created",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "now()"\n            }\n          },\n          {\n            "path": "subject",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.subject"\n            }\n          },\n          {\n            "path": "author",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          },\n          {\n            "path": "period.start",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where(linkId=\'245679f2-6172-456e-8ff3-425f5cea3243\').answer.value"\n            }\n          },\n          {\n            "path": "period.end",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where(linkId=\'245679f2-6172-456e-8ff3-425f5cea3243\').answer.value + 9 \'months\'"\n            }\n          },\n          {\n            "path": "activity.detail.kind",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'Task\'"\n            }\n          },\n          {\n            "path": "activity.detail.status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'in-progress\'"\n            }\n          },\n          {\n            "path": "activity.detail.description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'This action will assess careplan on registration to init careplan\'"\n            }\n          },\n          {\n            "path": "activity.detail.performer",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-task-activity",\n        "title": "ANC Visits Plan",\n        "status": "active",\n        "description": "This action will performed every month for a pregnant woman",\n        "kind": "Task",\n        "timingTiming": {\n          "repeat": {\n            "count": 8,\n            "duration": 1,\n            "durationUnit": "mo",\n            "period": 1,\n            "periodUnit": "mo"\n          }\n        }\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-end-activity",\n        "title": "Careplan completion Activity",\n        "status": "active",\n        "description": "This action will assess careplan every time a followup happens on a task generated by plan to mark it complete",\n        "kind": "CarePlan",\n        "dynamicValue": [\n          {\n            "path": "status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'completed\'"\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-referral-activity",\n        "title": "ANC Referral Handler Activity",\n        "status": "active",\n        "description": "This action will assess careplan and generate referral task every time a followup happens on a task generated by plan",\n        "kind": "Task"\n      }\n    ],\n    "name": "ANC Follow Up Plan",\n    "title": "ANC Follow Up Plan",\n    "status": "active",\n    "description": "This defines the schedule of care for pregnant women",\n    "action": [\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.where(questionnaire = \'Questionnaire/132152\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-init-activity"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.where(questionnaire = \'Questionnaire/132152\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-task-activity",\n        "transform": "http://hl7.org/fhir/StructureMap/132156"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().where(resource is QuestionnaireResponse).resource.questionnaire = \'Questionnaire/132170\'"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-end-activity"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.first().where(resource is QuestionnaireResponse).resource.descendants().where((linkId=\'1b625d5c-d0bc-44d5-8eed-3efc37c51f84\' or linkId=\'9b486fa3-5323-47db-c8eb-f725fb50e8d6\') and answer.value.code=\'yes\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-referral-activity",\n        "transform": "http://hl7.org/fhir/StructureMap/528a8603-2e43-4a2e-a33d-1ec2563ffd3e"\n      }\n    ]\n  }\n'})}),"\n",(0,t.jsx)(e.h3,{id:"anc-plandefinition-generating-tasks-on-demand",children:"ANC PlanDefinition generating Tasks on demand"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'  {\n    "resourceType": "PlanDefinition",\n    "id": "132157",\n    "meta": {\n      "versionId": "1",\n      "lastUpdated": "2022-06-20T22:30:39.217+00:00"\n    },\n    "contained": [\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-init-activity",\n        "title": "ANC Register Handler Activity",\n        "status": "active",\n        "description": "This action will assess careplan on registration to init careplan",\n        "kind": "CarePlan",\n        "dynamicValue": [\n          {\n            "path": "title",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.title"\n            }\n          },\n          {\n            "path": "description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.description"\n            }\n          },\n          {\n            "path": "instantiatesCanonical",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.id.replaceMatches(\'/_history/.*\', \'\')"\n            }\n          },\n          {\n            "path": "status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'active\'"\n            }\n          },\n          {\n            "path": "intent",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'plan\'"\n            }\n          },\n          {\n            "path": "created",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "now()"\n            }\n          },\n          {\n            "path": "subject",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.subject"\n            }\n          },\n          {\n            "path": "author",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          },\n          {\n            "path": "period.start",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where(linkId=\'245679f2-6172-456e-8ff3-425f5cea3243\').answer.value"\n            }\n          },\n          {\n            "path": "period.end",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where(linkId=\'245679f2-6172-456e-8ff3-425f5cea3243\').answer.value + 9 \'months\'"\n            }\n          },\n          {\n            "path": "activity.detail.kind",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'Task\'"\n            }\n          },\n          {\n            "path": "activity.detail.status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'in-progress\'"\n            }\n          },\n          {\n            "path": "activity.detail.description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'This action will assess careplan on registration to init careplan\'"\n            }\n          },\n          {\n            "path": "activity.detail.performer",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-task-activity",\n        "title": "ANC Visits Plan",\n        "status": "active",\n        "description": "This action will performed every month for a pregnant woman",\n        "kind": "Task",\n        "timingTiming": {\n          "repeat": {\n            "duration": 1,\n            "durationUnit": "mo",\n            "period": 1,\n            "periodUnit": "mo"\n          }\n        }\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-end-activity",\n        "title": "Careplan completion Activity",\n        "status": "active",\n        "description": "This action will assess careplan every time a followup happens on a task generated by plan to mark it complete",\n        "kind": "CarePlan",\n        "dynamicValue": [\n          {\n            "path": "status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'completed\'"\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-referral-activity",\n        "title": "ANC Referral Handler Activity",\n        "status": "active",\n        "description": "This action will assess careplan and generate referral task every time a followup happens on a task generated by plan",\n        "kind": "Task"\n      }\n    ],\n    "name": "ANC Follow Up Plan",\n    "title": "ANC Follow Up Plan",\n    "description": "This defines the schedule of care for pregnant women",\n    "action": [\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.where(questionnaire = \'Questionnaire/132152\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-init-activity"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.where(questionnaire = \'Questionnaire/132152\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-task-activity",\n        "transform": "http://hl7.org/fhir/StructureMap/132156"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.questionnaire = \'Questionnaire/132170\'"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-end-activity"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%resource.entry.where(resource is QuestionnaireResponse).resource.descendants().where((linkId=\'1b625d5c-d0bc-44d5-8eed-3efc37c51f84\' or linkId=\'9b486fa3-5323-47db-c8eb-f725fb50e8d6\') and answer.value.code=\'yes\').exists()"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-referral-activity",\n        "transform": "http://hl7.org/fhir/StructureMap/528a8603-2e43-4a2e-a33d-1ec2563ffd3e"\n      }\n    ]\n  }\n'})}),"\n",(0,t.jsx)(e.h3,{id:"child-immunization-schedule-plandefinition",children:"Child Immunization schedule PlanDefinition"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'  {\n    "resourceType": "PlanDefinition",\n    "id": "e994ab6f-30a5-4450-9a90-691c8199f379",\n    "contained": [\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-init-activity",\n        "title": "ANC Register Handler Activity",\n        "status": "active",\n        "description": "This action will assess careplan on registration to init careplan",\n        "kind": "CarePlan",\n        "dynamicValue": [\n          {\n            "path": "title",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.title"\n            }\n          },\n          {\n            "path": "description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.description"\n            }\n          },\n          {\n            "path": "instantiatesCanonical",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "%rootResource.id.replaceMatches(\'/_history/.*\', \'\')"\n            }\n          },\n          {\n            "path": "status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'active\'"\n            }\n          },\n          {\n            "path": "intent",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'plan\'"\n            }\n          },\n          {\n            "path": "created",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "now()"\n            }\n          },\n          {\n            "path": "subject.reference",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.id.replaceMatches(\'/_history/.*\', \'\')"\n            }\n          },\n          {\n            "path": "author",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          },\n          {\n            "path": "period.start",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.birthDate"\n            }\n          },\n          {\n            "path": "period.end",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.birthDate + 4017 \'days\'"\n            }\n          },\n          {\n            "path": "activity.detail.kind",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'Task\'"\n            }\n          },\n          {\n            "path": "activity.detail.status",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'in-progress\'"\n            }\n          },\n          {\n            "path": "activity.detail.description",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "\'This action will assess careplan on registration to init careplan\'"\n            }\n          },\n          {\n            "path": "activity.detail.performer",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this.generalPractitioner.first()"\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-bcg-task-activity",\n        "title": "Child BCG Immunization",\n        "description": "This is the BCG scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "42284007",\n              "display": "BCG vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "BCG"\n        },\n        "dosage": [\n          {\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 0,\n                "periodUnit": "d"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-opv-task-activity",\n        "title": "Child OPV Immunization",\n        "description": "This is the OPV scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "111164008",\n              "display": "Poliovirus vaccine",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "OPV"\n        },\n        "dosage": [\n          {\n            "sequence": 0,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 14,\n                "durationUnit": "d",\n                "period": 0,\n                "periodUnit": "d"\n              }\n            }\n          },\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 6,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 10,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 3,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 14,\n                "periodUnit": "wk"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-penta-task-activity",\n        "title": "Child PENTA Immunization",\n        "description": "This is the PENTA scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "429511000124109",\n              "display": "Tetanus + diphtheria + acellular pertussis vaccine",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "PENTA"\n        },\n        "dosage": [\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1460,\n                "durationUnit": "d",\n                "period": 6,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1460,\n                "durationUnit": "d",\n                "period": 10,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 3,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1460,\n                "durationUnit": "d",\n                "period": 14,\n                "periodUnit": "wk"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-rota-task-activity",\n        "title": "Child ROTA Immunization",\n        "description": "This is the ROTA scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "415354003",\n              "display": "Rotavirus vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "ROTA"\n        },\n        "dosage": [\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 105,\n                "durationUnit": "d",\n                "period": 6,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 105,\n                "durationUnit": "d",\n                "period": 10,\n                "periodUnit": "wk"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-pcv-task-activity",\n        "title": "Child PCV Immunization",\n        "description": "This is the PCV scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "12866006",\n              "display": "Pneumococcal vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "PCV"\n        },\n        "dosage": [\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 6,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 10,\n                "periodUnit": "wk"\n              }\n            }\n          },\n          {\n            "sequence": 3,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 14,\n                "periodUnit": "wk"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-ipv-task-activity",\n        "title": "Child IPV Immunization",\n        "description": "This is the PCV scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "396435000",\n              "display": "Inactivated Poliovirus vaccine",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "IPV"\n        },\n        "dosage": [\n          {\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 14,\n                "periodUnit": "wk"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-measles-task-activity",\n        "title": "Child MEASLES Immunization",\n        "description": "This is the MEASLES scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "38598009",\n              "display": "Measles-mumps-rubella vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "MEASLES"\n        },\n        "dosage": [\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 9,\n                "periodUnit": "mo"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 15,\n                "periodUnit": "mo"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-yellowfever-task-activity",\n        "title": "Child YELLOW FEVER Immunization",\n        "description": "This is the YELLOW FEVER scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "67308009",\n              "display": "Yellow fever vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "YELLOW FEVER"\n        },\n        "dosage": [\n          {\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 1825,\n                "durationUnit": "d",\n                "period": 9,\n                "periodUnit": "mo"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-typhoid-task-activity",\n        "title": "Child TYPHOID Immunization",\n        "description": "This is the TYPHOID scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "15483003",\n              "display": "Typhoid vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "TYPHOID"\n        },\n        "dosage": [\n          {\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 730,\n                "durationUnit": "d",\n                "period": 9,\n                "periodUnit": "mo"\n              }\n            }\n          }\n        ]\n      },\n      {\n        "resourceType": "ActivityDefinition",\n        "id": "careplan-hpv-task-activity",\n        "title": "Child HPV Immunization",\n        "description": "This is the HPV scheduled immunization.",\n        "status": "active",\n        "kind": "Task",\n        "code": {\n          "coding": [\n            {\n              "code": "33879002",\n              "display": "Administration of vaccine to produce active immunity (procedure)",\n              "system": "http://snomed.info/sct"\n            }\n          ]\n        },\n        "productCodeableConcept": {\n          "coding": [\n            {\n              "code": "761841000",\n              "display": "Human papillomavirus vaccination",\n              "system": "http://snomed.info/sct"\n            }\n          ],\n          "text": "HPV"\n        },\n        "dosage": [\n          {\n            "sequence": 1,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 3653,\n                "durationUnit": "d",\n                "period": 3285,\n                "periodUnit": "d"\n              }\n            }\n          },\n          {\n            "sequence": 2,\n            "timing": {\n              "repeat": {\n                "count": 1,\n                "duration": 4017,\n                "durationUnit": "d",\n                "period": 3467,\n                "periodUnit": "d"\n              }\n            }\n          }\n        ]\n      }\n    ],\n    "name": "Child Immunization",\n    "title": "Child Immunization",\n    "status": "active",\n    "description": "This scheduled will be used to track the child\'s immunization.",\n    "action": [\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-init-activity"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-bcg-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-opv-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-penta-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-rota-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-pcv-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-ipv-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-measles-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-yellowfever-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-typhoid-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      },\n      {\n        "prefix": "1",\n        "priority": "routine",\n        "type": {\n          "coding": [\n            {\n              "code": "clinical-protocol",\n              "display": "Clinical Protocol"\n            }\n          ]\n        },\n        "condition": [\n          {\n            "kind": "applicability",\n            "expression": {\n              "language": "text/fhirpath",\n              "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 \'months\') <= $this.birthDate"\n            }\n          }\n        ],\n        "definitionCanonical": "#careplan-hpv-task-activity",\n        "transform": "https://fhir.labs.smartregister.org/fhir/StructureMap/97cf9bfb-90be-4661-8810-1c60be88f593"\n      }\n    ]\n  }\n'})})]})}function p(n={}){const{wrapper:e}={...(0,r.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},1151:(n,e,i)=>{i.d(e,{Z:()=>o,a:()=>s});var t=i(7294);const r={},a=t.createContext(r);function s(n){const e=t.useContext(a);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);